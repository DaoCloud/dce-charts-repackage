{{- if .Values.topoDiscovery.enabled }}
apiVersion: v1
kind: Service
metadata:
  name: topo-master-service
  labels:
    app: topo-master
spec:
  selector:
    app: topo-master
  ports:
  - name: topo-rpc-server-port
    port: {{ .Values.topoDiscovery.rpcServerPort }}
    targetPort: {{ .Values.topoDiscovery.rpcServerPort }}
    protocol: TCP
  - name: topo-server-port
    port: {{ .Values.topoDiscovery.master.serverPort }}
    targetPort: {{ .Values.topoDiscovery.master.serverPort }}
    protocol: TCP
{{- end }}